<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hey, GPT!</title>
  <link rel="stylesheet" href="normalize.css">
  <link rel="stylesheet" href="skeleton.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.1.5/purify.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script defer src="chat.js"></script>
</head>

<body>
  <div id="accordion">
    <span id="conversation-label">Conversations</span>
    <div id="conversations">
      <ul id="conversation-list">
        <li><i>Wake up the server to load past convos!</i></li>
      </ul>
    </div>
  </div>

  <div class="container">

    <div class="row row-center">
      <h2>Hey, GPT!</h2>
    </div>
    <br />

    <div class="row">
      <div class="row" id="connection-widget">
        <div class="column u-full-width row-center">
          <button id="check-btn"><span id="check-btn-label" class="loading-message">Poke server!</span></button>
          <span class="status-box">
            <p id="connected-status"></p>
          </span>
        </div>
      </div>
      <br />

      <form id="chatWithGPT">
        <div class="row">
          <textarea id="textPrompt" class="u-full-width" placeholder="Chat with GPT..."></textarea>
        </div>
        <div class="row-center">
          <label for="model-select">
            Which model?
            <select id="model-select" name="model-select">
              Which model?
              <option value="gpt-4.1">GPT-4.1</option>
              <!-- <option value="o3">o3</option> -->
              <option value="o4-mini">o4 (mini)</option>
            </select>
          </label>
        </div>

        <div class="row-center">
          <label for="image-input">
            <input type="file" id="image-input" name="image-input" accept="image/*">
          </label>
        </div>
    </div>
    <div class="row">
      <div class="column u-full-width row-center">
        <button>Submit</button>
        <span class="status-box">
          <p class="loadingIndicator"></p>
        </span>
      </div>
    </div>
    </form>

    <div class="row">
      <h5 id="conversation-title"></h5>
      <div id="chatLog"></div>
    </div>

    <div class="row">
      <div class="column u-full-width row-center">
        <button id="exportBtn">Export to File</button>
        <button id="newChatBtn">Start New Chat</button>
      </div>
    </div>

  </div>
</body>

</html>